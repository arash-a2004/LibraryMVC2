@model List<LibrarySystem.Web.Models.PendingRequestViewModel>
<script src="jquery-3.7.1.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
@if (!Model.Any())
{
    <p style="font-style: italic; color: #888;">No pending requests.</p>
}
else
{
    <table style="width: 100%; border-collapse: collapse; margin-top: 15px; font-family: Arial, sans-serif;">
        <thead>
            <tr style="background-color: #f2f2f2; text-align: left;">
                <th style="padding: 10px; border: 1px solid #ddd;">User</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Book</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Requested On</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var r in Model)
            {
                <tr style="border-bottom: 1px solid #ddd;" onmouseover="this.style.backgroundColor='#f9f9f9'" onmouseout="this.style.backgroundColor=''">
                    <td style="padding: 10px; border: 1px solid #ddd;">@r.Username</td>
                    <td style="padding: 10px; border: 1px solid #ddd;">@r.BookTitle</td>
                    <td style="padding: 10px; border: 1px solid #ddd;">@r.RequestDate.ToString("yyyy-MM-dd")</td>
                    <td style="padding: 10px; border: 1px solid #ddd;">
                        <button onclick="changeStatus(@r.Id,'Approved')"
                                style="padding: 6px 12px; background-color: #28a745; color: white; border: none; border-radius: 4px; margin-right: 5px; cursor: pointer;">
                            Approve
                        </button>
                        <button onclick="changeStatus(@r.Id,'Rejected')"
                                style="padding: 6px 12px; background-color: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer;">
                            Reject
                        </button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
